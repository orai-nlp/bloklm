<div class="home-container">
      <div class="home-content">
        <h1 class="welcome-title">{{ i18n.translate('welcome') }}</h1>
        
        <!-- Show notebooks when not loading and notebooks exist -->
        <div class="notebooks-section" *ngIf="notebooks.length > 0">
          <div class="section-header">
            <button class="create-new-btn" (click)="createNewNotebook()">
              <span class="plus-icon">+</span>
              {{ i18n.translate('createNew') }}
            </button>
          </div>
          
          <div class="notebooks-grid">
            <div 
              class="notebook-card" 
                *ngFor="let notebook of notebooks | sortBy:'updatedAt':'desc'; trackBy: trackByNotebookId">
              
              <div class="notebook-content" (click)="openNotebook(notebook.id)">
                <div class="notebook-icon">{{ notebook.icon || 'ðŸ““' }}</div>
                <div class="notebook-info">
                  <h3 class="notebook-title" *ngIf="!notebook.isRenaming">{{ notebook.title }}</h3>
                  <input 
                    *ngIf="notebook.isRenaming"
                    class="notebook-title-input"
                    [(ngModel)]="notebook.tempTitle"
                    (keyup.enter)="confirmRename(notebook)"
                    (keyup.escape)="cancelRename(notebook)"
                    (blur)="confirmRename(notebook)"
                    #renameInput>
                  <p class="notebook-meta">
                    {{ formatDate(notebook.updatedAt) }} â€¢ {{ notebook.sourceCount }} {{ i18n.translate('source') }}{{ notebook.sourceCount !== 1 && i18n.language === 'es' ? 's' : '' }}
                  </p>
                </div>
              </div>
              
              <div class="notebook-menu-container">
                <button 
                  class="notebook-menu"
                  (click)="toggleMenu($event, notebook.id)"
                  [class.active]="activeMenuId === notebook.id">
                  <span class="material-icons">more_vert</span>
                </button>
                
                <div 
                  class="dropdown-menu"
                  *ngIf="activeMenuId === notebook.id"
                  (click)="$event.stopPropagation()">
                  <button class="dropdown-item" (click)="startRename(notebook)">
                    <span class="material-icons">edit</span>
                    {{ i18n.translate('rename') || 'Rename' }}
                  </button>
                  <button class="dropdown-item delete" (click)="deleteNotebook(notebook.id)">
                    <span class="material-icons">delete</span>
                    {{ i18n.translate('delete') || 'Delete' }}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Show empty state when not loading and no notebooks -->
        <div class="empty-state" *ngIf="notebooks.length === 0">
          <h2 class="empty-title">{{ i18n.translate('createFirstNotebook') }}</h2>
          <p class="empty-description">{{ i18n.translate('notebookDescription') }}</p>
          
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">ðŸŽ§</div>
              <h3 class="feature-title">{{ i18n.translate('gainNewUnderstandings') }}</h3>
              <p class="feature-description">{{ i18n.translate('gainNewUnderstandingsDesc') }}</p>
            </div>
            
            <div class="feature-card">
              <div class="feature-icon">ðŸ“¤</div>
              <h3 class="feature-title">{{ i18n.translate('chatbotGrounded') }}</h3>
              <p class="feature-description">{{ i18n.translate('chatbotGroundedDesc') }}</p>
            </div>
            
          </div>
          
          <div class="cta-section">
            <button class="create-notebook-btn" (click)="createNewNotebook()">
              <span class="plus-icon">+</span>
              {{ i18n.translate('createNewNotebook') }}
            </button>
          </div>
        </div>
    </div>
</div>