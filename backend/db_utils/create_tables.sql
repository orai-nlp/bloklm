-- Create Bilduma table
CREATE TABLE IF NOT EXISTS Bilduma (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    date DATE NOT NULL
);

-- Create Fitxategia table
CREATE TABLE IF NOT EXISTS Fitxategia (
    id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    text TEXT,
    charNum INTEGER,
    format VARCHAR(10) CHECK (format IN ('PDF', 'TXT', 'DOC', 'DOCX', 'SRT')),
    bilduma_key INTEGER REFERENCES Bilduma(id) ON DELETE CASCADE
);